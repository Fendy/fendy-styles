/***************************************
  Utils for managing responsive styles *
 ***************************************/

/**
  * Retrieves a breakpoint by the given key
  *
  * @param  {string} $key Breakpoint key name
  * @return {number}      The breakpoint
  */
@function get-breakpoint($key) {
  @if $breakpoints == null {
    @error 'Did you include the breakpoint settings?';
  }
  @if map-has-key($breakpoints, $key) {
    @return map-get($breakpoints, $key);
  } @else {
    @error 'Yo! There\'s no such thing as a #{$key} breakpoint.';
  }
}

/**
 * Inlines a media query declaration with the passed content block
 *
 * @param  {string} $breakpoint Name of the breakpoint to which respond to
 * @param  {list} $media-type [('screen']   List of media types to which respond to
 */
@mixin respond-to($breakpoint, $media-type: ('screen')) {
  // If no breakpoint is specified, assume a media type query
  @if $breakpoint == null {
    @media #{$media-type} {
      @content;
    }
  } @else {
    @media #{$media-type} and (min-width: get-breakpoint($breakpoint)) {
      @content;
    }
  }
}
